<mujoco model="dynamic_glass_cafe">
  <!-- 编译器设置 -->
  <compiler angle="degree" coordinate="local" inertiafromgeom="true"/>

  <!-- 物理选项 -->
  <option timestep="0.005" gravity="0 0 -9.81" iterations="50" solver="Newton" tolerance="1e-10">
    <flag contact="enable" gravity="enable"/>
  </option>

  <!-- 默认设置 -->
  <default>
    <geom conaffinity="1" condim="3" friction="1 0.5 0.005" solimp="0.9 0.95 0.001" solref="0.02 1"/>
    <joint damping="0.5" armature="0.01"/>
    <motor ctrlrange="-1 1" ctrllimited="true"/>
  </default>

  <!-- 视觉设置 -->
  <visual>
    <map force="0.1" zfar="100"/>
    <rgba haze="0.05 0.08 0.12 1"/>
    <quality shadowsize="4096"/>
    <global offwidth="1280" offheight="720"/>
  </visual>

  <!-- 资源定义 -->
  <asset>
    <!-- 木地板 -->
    <texture name="wood_floor" type="2d" builtin="checker" rgb1="0.55 0.45 0.35" rgb2="0.5 0.4 0.3" width="512" height="512"/>
    <material name="wood_floor_mat" texture="wood_floor" texrepeat="10 10" specular="0.3" shininess="0.3" reflectance="0.1"/>

    <!-- 高透明玻璃 -->
    <material name="glass_clear" rgba="0.8 0.9 0.95 0.15" specular="1" shininess="1" reflectance="0.7"/>

    <!-- 半透明玻璃门 -->
    <material name="glass_door" rgba="0.75 0.85 0.9 0.25" specular="1" shininess="1" reflectance="0.6"/>

    <!-- 金属材质 -->
    <material name="metal_dark" rgba="0.2 0.2 0.22 1" specular="0.9" shininess="0.8" reflectance="0.4"/>
    <material name="metal_chrome" rgba="0.8 0.8 0.82 1" specular="1" shininess="0.9" reflectance="0.6"/>

    <!-- 木材 -->
    <material name="wood_dark" rgba="0.3 0.2 0.15 1" specular="0.2" shininess="0.2" reflectance="0"/>
    <material name="wood_light" rgba="0.7 0.6 0.5 1" specular="0.3" shininess="0.3" reflectance="0.05"/>

    <!-- 布料 -->
    <material name="fabric_red" rgba="0.8 0.2 0.2 1" specular="0.1" shininess="0.1"/>
    <material name="fabric_blue" rgba="0.2 0.4 0.7 1" specular="0.1" shininess="0.1"/>
    <material name="fabric_beige" rgba="0.9 0.85 0.75 1" specular="0.1" shininess="0.1"/>

    <!-- 草地 -->
    <texture name="grass" type="2d" builtin="checker" rgb1="0.3 0.5 0.3" rgb2="0.28 0.48 0.28" width="512" height="512"/>
    <material name="grass_mat" texture="grass" texrepeat="40 40" specular="0.1" shininess="0.05" reflectance="0"/>

    <!-- 天空 -->
    <texture name="skybox" type="skybox" builtin="gradient" rgb1="0.6 0.75 0.9" rgb2="0.3 0.5 0.7" width="512" height="512"/>
  </asset>

  <!-- 世界主体 -->
  <worldbody>
    <!-- 主光源（阳光 - 增强） -->
    <light directional="true" diffuse="1.2 1.2 1.1" specular="0.6 0.6 0.5" pos="30 20 40" dir="-1 -0.7 -1.5" castshadow="true"/>

    <!-- 辅助光源 - 增强 -->
    <light directional="true" diffuse="0.5 0.55 0.6" specular="0.3 0.3 0.3" pos="-20 -15 30" dir="0.7 0.5 -1" castshadow="false"/>

    <!-- 室内顶部光源 -->
    <light directional="false" diffuse="1.0 0.95 0.85" specular="0.4 0.4 0.3" pos="0 0 5.5" dir="0 0 -1" castshadow="false" cutoff="80"/>

    <!-- 地面 -->
    <geom name="ground" type="plane" size="50 50 0.1" material="grass_mat" condim="3" friction="1 0.5 0.005"/>

    <!-- ========== 咖啡店主体建筑 ========== -->
    <body name="cafe_building" pos="0 0 0">

      <!-- 地板 -->
      <geom name="cafe_floor" type="box" size="6 5 0.1" pos="0 0 0.1" material="wood_floor_mat"/>

      <!-- 后墙（实墙） -->
      <geom name="back_wall" type="box" size="6 0.15 3" pos="0 -5 3" material="wood_light"/>

      <!-- 左侧墙（实墙） -->
      <geom name="left_wall" type="box" size="0.15 5 3" pos="-6 0 3" material="wood_light"/>

      <!-- 右侧墙（实墙） -->
      <geom name="right_wall" type="box" size="0.15 5 3" pos="6 0 3" material="wood_light"/>

      <!-- 前墙左侧（实墙部分） -->
      <geom name="front_wall_left" type="box" size="1.5 0.15 3" pos="-4.5 5 3" material="wood_light"/>

      <!-- 前墙右侧（实墙部分） -->
      <geom name="front_wall_right" type="box" size="1.5 0.15 3" pos="4.5 5 3" material="wood_light"/>

      <!-- 前墙顶部横梁 -->
      <geom name="front_beam_top" type="box" size="3 0.15 0.4" pos="0 5 5.6" material="wood_light"/>

      <!-- 大型透明玻璃窗 - 前面 -->
      <geom name="front_glass_left" type="box" size="1.3 0.02 2.5" pos="-1.7 5 3" material="glass_clear"/>
      <geom name="front_glass_right" type="box" size="1.3 0.02 2.5" pos="1.7 5 3" material="glass_clear"/>

      <!-- 透明玻璃窗 - 左侧 -->
      <geom name="left_glass_1" type="box" size="0.02 2 2" pos="-6 -2 3" material="glass_clear"/>
      <geom name="left_glass_2" type="box" size="0.02 1.5 2" pos="-6 2 3" material="glass_clear"/>

      <!-- 透明玻璃窗 - 右侧 -->
      <geom name="right_glass_1" type="box" size="0.02 2 2" pos="6 -2 3" material="glass_clear"/>
      <geom name="right_glass_2" type="box" size="0.02 1.5 2" pos="6 2 3" material="glass_clear"/>

      <!-- 屋顶 -->
      <geom name="roof" type="box" size="6.2 5.2 0.15" pos="0 0 6.15" material="wood_dark"/>

      <!-- 门框 -->
      <geom name="door_frame_left" type="box" size="0.08 0.08 2.5" pos="-0.8 5 2.5" material="metal_dark"/>
      <geom name="door_frame_right" type="box" size="0.08 0.08 2.5" pos="0.8 5 2.5" material="metal_dark"/>
      <geom name="door_frame_top" type="box" size="0.8 0.08 0.08" pos="0 5 5" material="metal_dark"/>

    </body>

    <!-- ========== 动态玻璃门（可开合） ========== -->
    <body name="glass_door" pos="0 5 2.5">
      <joint name="door_hinge" type="hinge" pos="-0.7 0 0" axis="0 0 1" range="-5 90" damping="3" stiffness="5"/>
      <geom name="door_glass" type="box" size="0.7 0.03 2.5" pos="0 0 0" material="glass_door"/>
      <geom name="door_handle" type="cylinder" size="0.03 0.15" pos="0.6 0.08 0" quat="0.707 0.707 0 0" material="metal_chrome"/>
    </body>

    <!-- ========== 吧台区域 ========== -->
    <body name="bar_counter" pos="0 -3.5 0">
      <!-- 吧台主体 -->
      <geom name="counter_top" type="box" size="4 0.8 0.05" pos="0 0 1.1" material="wood_dark"/>
      <geom name="counter_front" type="box" size="4 0.8 0.55" pos="0 0 0.55" material="wood_light"/>

      <!-- 吧台后墙架子 -->
      <geom name="back_shelf_1" type="box" size="3.5 0.25 0.03" pos="0 -0.6 1.8" material="wood_dark"/>
      <geom name="back_shelf_2" type="box" size="3.5 0.25 0.03" pos="0 -0.6 2.5" material="wood_dark"/>
      <geom name="back_shelf_3" type="box" size="3.5 0.25 0.03" pos="0 -0.6 3.2" material="wood_dark"/>

      <!-- 咖啡机 -->
      <geom name="coffee_machine_base" type="box" size="0.4 0.3 0.25" pos="-2 -0.5 1.4" material="metal_dark"/>
      <geom name="coffee_machine_top" type="box" size="0.35 0.25 0.15" pos="-2 -0.5 1.75" material="metal_chrome"/>

      <!-- 咖啡杯 -->
      <geom name="cup_1" type="cylinder" size="0.04 0.08" pos="0.5 -0.5 1.23" material="fabric_beige"/>
      <geom name="cup_2" type="cylinder" size="0.04 0.08" pos="0.8 -0.5 1.23" material="fabric_beige"/>
      <geom name="cup_3" type="cylinder" size="0.04 0.08" pos="1.1 -0.5 1.23" material="fabric_beige"/>

      <!-- 架子上的瓶子 - 第1层 -->
      <!-- 瓶子1 - 透明玻璃瓶 -->
      <geom name="bottle_1_base" type="cylinder" size="0.05 0.03" pos="-3 -0.55 1.83" rgba="0.8 0.9 0.95 0.3"/>
      <geom name="bottle_1_body" type="cylinder" size="0.045 0.12" pos="-3 -0.55 1.95" rgba="0.75 0.85 0.9 0.25"/>
      <geom name="bottle_1_neck" type="cylinder" size="0.02 0.06" pos="-3 -0.55 2.13" rgba="0.8 0.9 0.95 0.3"/>
      <geom name="bottle_1_liquid" type="cylinder" size="0.04 0.08" pos="-3 -0.55 1.88" rgba="0.9 0.6 0.2 0.6"/>

      <!-- 瓶子2 - 红酒瓶 -->
      <geom name="bottle_2_base" type="cylinder" size="0.045 0.03" pos="-2.4 -0.55 1.83" rgba="0.2 0.3 0.2 0.5"/>
      <geom name="bottle_2_body" type="cylinder" size="0.04 0.14" pos="-2.4 -0.55 1.97" rgba="0.15 0.25 0.15 0.4"/>
      <geom name="bottle_2_neck" type="cylinder" size="0.018 0.08" pos="-2.4 -0.55 2.19" rgba="0.2 0.3 0.2 0.5"/>
      <geom name="bottle_2_liquid" type="cylinder" size="0.035 0.12" pos="-2.4 -0.55 1.95" rgba="0.6 0.1 0.15 0.7"/>

      <!-- 瓶子3 - 橙汁瓶 -->
      <geom name="bottle_3_base" type="cylinder" size="0.055 0.04" pos="-1.7 -0.55 1.84" rgba="0.85 0.9 0.95 0.25"/>
      <geom name="bottle_3_body" type="cylinder" size="0.05 0.15" pos="-1.7 -0.55 1.99" rgba="0.8 0.85 0.9 0.2"/>
      <geom name="bottle_3_neck" type="cylinder" size="0.025 0.05" pos="-1.7 -0.55 2.19" rgba="0.85 0.9 0.95 0.25"/>
      <geom name="bottle_3_liquid" type="cylinder" size="0.045 0.13" pos="-1.7 -0.55 1.97" rgba="0.9 0.5 0.1 0.7"/>

      <!-- 瓶子4 - 牛奶瓶 -->
      <geom name="bottle_4_base" type="cylinder" size="0.048 0.03" pos="-1.0 -0.55 1.83" rgba="0.9 0.95 1 0.4"/>
      <geom name="bottle_4_body" type="cylinder" size="0.045 0.12" pos="-1.0 -0.55 1.95" rgba="0.85 0.9 0.95 0.35"/>
      <geom name="bottle_4_neck" type="cylinder" size="0.022 0.05" pos="-1.0 -0.55 2.12" rgba="0.9 0.95 1 0.4"/>
      <geom name="bottle_4_liquid" type="cylinder" size="0.04 0.1" pos="-1.0 -0.55 1.9" rgba="0.95 0.95 0.9 0.8"/>

      <!-- 瓶子5 - 啤酒瓶 -->
      <geom name="bottle_5_base" type="cylinder" size="0.042 0.03" pos="-0.3 -0.55 1.83" rgba="0.3 0.2 0.1 0.4"/>
      <geom name="bottle_5_body" type="cylinder" size="0.038 0.16" pos="-0.3 -0.55 1.99" rgba="0.25 0.15 0.05 0.35"/>
      <geom name="bottle_5_neck" type="cylinder" size="0.02 0.07" pos="-0.3 -0.55 2.22" rgba="0.3 0.2 0.1 0.4"/>
      <geom name="bottle_5_liquid" type="cylinder" size="0.033 0.14" pos="-0.3 -0.55 1.97" rgba="0.8 0.6 0.2 0.6"/>

      <!-- 瓶子6 - 绿茶瓶 -->
      <geom name="bottle_6_base" type="cylinder" size="0.05 0.03" pos="0.4 -0.55 1.83" rgba="0.8 0.9 0.85 0.25"/>
      <geom name="bottle_6_body" type="cylinder" size="0.045 0.13" pos="0.4 -0.55 1.96" rgba="0.75 0.85 0.8 0.2"/>
      <geom name="bottle_6_neck" type="cylinder" size="0.022 0.06" pos="0.4 -0.55 2.15" rgba="0.8 0.9 0.85 0.25"/>
      <geom name="bottle_6_liquid" type="cylinder" size="0.04 0.11" pos="0.4 -0.55 1.94" rgba="0.4 0.6 0.3 0.6"/>

      <!-- 架子上的瓶子 - 第2层 -->
      <!-- 瓶子7 - 咖啡瓶 -->
      <geom name="bottle_7_base" type="cylinder" size="0.048 0.03" pos="-3.2 -0.55 2.53" rgba="0.3 0.25 0.2 0.4"/>
      <geom name="bottle_7_body" type="cylinder" size="0.042 0.14" pos="-3.2 -0.55 2.67" rgba="0.25 0.2 0.15 0.35"/>
      <geom name="bottle_7_neck" type="cylinder" size="0.02 0.06" pos="-3.2 -0.55 2.87" rgba="0.3 0.25 0.2 0.4"/>
      <geom name="bottle_7_liquid" type="cylinder" size="0.037 0.12" pos="-3.2 -0.55 2.65" rgba="0.2 0.15 0.1 0.8"/>

      <!-- 瓶子8 - 果汁瓶 -->
      <geom name="bottle_8_base" type="cylinder" size="0.05 0.03" pos="-2.5 -0.55 2.53" rgba="0.85 0.9 0.95 0.25"/>
      <geom name="bottle_8_body" type="cylinder" size="0.045 0.13" pos="-2.5 -0.55 2.66" rgba="0.8 0.85 0.9 0.2"/>
      <geom name="bottle_8_neck" type="cylinder" size="0.022 0.05" pos="-2.5 -0.55 2.84" rgba="0.85 0.9 0.95 0.25"/>
      <geom name="bottle_8_liquid" type="cylinder" size="0.04 0.11" pos="-2.5 -0.55 2.64" rgba="0.9 0.3 0.4 0.7"/>

      <!-- 瓶子9 - 汽水瓶 -->
      <geom name="bottle_9_base" type="cylinder" size="0.052 0.04" pos="-1.8 -0.55 2.54" rgba="0.8 0.9 0.95 0.25"/>
      <geom name="bottle_9_body" type="cylinder" size="0.048 0.15" pos="-1.8 -0.55 2.69" rgba="0.75 0.85 0.9 0.2"/>
      <geom name="bottle_9_neck" type="cylinder" size="0.024 0.05" pos="-1.8 -0.55 2.89" rgba="0.8 0.9 0.95 0.25"/>
      <geom name="bottle_9_liquid" type="cylinder" size="0.043 0.13" pos="-1.8 -0.55 2.67" rgba="0.3 0.8 0.4 0.6"/>

      <!-- 瓶子10 - 伏特加瓶 -->
      <geom name="bottle_10_base" type="cylinder" size="0.04 0.03" pos="-1.1 -0.55 2.53" rgba="0.9 0.95 1 0.2"/>
      <geom name="bottle_10_body" type="cylinder" size="0.035 0.16" pos="-1.1 -0.55 2.69" rgba="0.85 0.9 0.95 0.15"/>
      <geom name="bottle_10_neck" type="cylinder" size="0.018 0.08" pos="-1.1 -0.55 2.93" rgba="0.9 0.95 1 0.2"/>
      <geom name="bottle_10_liquid" type="cylinder" size="0.03 0.14" pos="-1.1 -0.55 2.67" rgba="0.95 0.95 0.98 0.5"/>

      <!-- 瓶子11 - 葡萄酒瓶 -->
      <geom name="bottle_11_base" type="cylinder" size="0.045 0.03" pos="-0.3 -0.55 2.53" rgba="0.2 0.3 0.2 0.5"/>
      <geom name="bottle_11_body" type="cylinder" size="0.04 0.15" pos="-0.3 -0.55 2.68" rgba="0.15 0.25 0.15 0.4"/>
      <geom name="bottle_11_neck" type="cylinder" size="0.019 0.07" pos="-0.3 -0.55 2.89" rgba="0.2 0.3 0.2 0.5"/>
      <geom name="bottle_11_liquid" type="cylinder" size="0.035 0.13" pos="-0.3 -0.55 2.66" rgba="0.5 0.2 0.3 0.75"/>

      <!-- 瓶子12 - 柠檬水瓶 -->
      <geom name="bottle_12_base" type="cylinder" size="0.05 0.03" pos="0.5 -0.55 2.53" rgba="0.85 0.9 0.95 0.25"/>
      <geom name="bottle_12_body" type="cylinder" size="0.045 0.14" pos="0.5 -0.55 2.67" rgba="0.8 0.85 0.9 0.2"/>
      <geom name="bottle_12_neck" type="cylinder" size="0.023 0.06" pos="0.5 -0.55 2.87" rgba="0.85 0.9 0.95 0.25"/>
      <geom name="bottle_12_liquid" type="cylinder" size="0.04 0.12" pos="0.5 -0.55 2.65" rgba="0.95 0.9 0.3 0.65"/>

      <!-- 架子上的瓶子 - 第3层 -->
      <!-- 瓶子13 - 香槟瓶 -->
      <geom name="bottle_13_base" type="cylinder" size="0.05 0.04" pos="-3.3 -0.55 3.24" rgba="0.2 0.3 0.2 0.5"/>
      <geom name="bottle_13_body" type="cylinder" size="0.045 0.13" pos="-3.3 -0.55 3.37" rgba="0.15 0.25 0.15 0.4"/>
      <geom name="bottle_13_neck" type="cylinder" size="0.022 0.08" pos="-3.3 -0.55 3.58" rgba="0.2 0.3 0.2 0.5"/>
      <geom name="bottle_13_liquid" type="cylinder" size="0.04 0.11" pos="-3.3 -0.55 3.35" rgba="0.9 0.85 0.5 0.6"/>

      <!-- 瓶子14 - 苏打水瓶 -->
      <geom name="bottle_14_base" type="cylinder" size="0.048 0.03" pos="-2.7 -0.55 3.24" rgba="0.85 0.9 0.95 0.25"/>
      <geom name="bottle_14_body" type="cylinder" size="0.043 0.12" pos="-2.7 -0.55 3.36" rgba="0.8 0.85 0.9 0.2"/>
      <geom name="bottle_14_neck" type="cylinder" size="0.021 0.06" pos="-2.7 -0.55 3.54" rgba="0.85 0.9 0.95 0.25"/>
      <geom name="bottle_14_liquid" type="cylinder" size="0.038 0.1" pos="-2.7 -0.55 3.34" rgba="0.85 0.92 0.98 0.5"/>

      <!-- 瓶子15 - 威士忌瓶 -->
      <geom name="bottle_15_base" type="cylinder" size="0.052 0.04" pos="-2.0 -0.55 3.24" rgba="0.4 0.3 0.2 0.4"/>
      <geom name="bottle_15_body" type="cylinder" size="0.047 0.14" pos="-2.0 -0.55 3.38" rgba="0.35 0.25 0.15 0.35"/>
      <geom name="bottle_15_neck" type="cylinder" size="0.023 0.05" pos="-2.0 -0.55 3.57" rgba="0.4 0.3 0.2 0.4"/>
      <geom name="bottle_15_liquid" type="cylinder" size="0.042 0.12" pos="-2.0 -0.55 3.36" rgba="0.7 0.5 0.2 0.7"/>

      <!-- 瓶子16 - 矿泉水瓶 -->
      <geom name="bottle_16_base" type="cylinder" size="0.045 0.03" pos="-1.3 -0.55 3.24" rgba="0.9 0.95 1 0.2"/>
      <geom name="bottle_16_body" type="cylinder" size="0.04 0.15" pos="-1.3 -0.55 3.39" rgba="0.85 0.9 0.95 0.15"/>
      <geom name="bottle_16_neck" type="cylinder" size="0.02 0.06" pos="-1.3 -0.55 3.6" rgba="0.9 0.95 1 0.2"/>
      <geom name="bottle_16_liquid" type="cylinder" size="0.035 0.13" pos="-1.3 -0.55 3.37" rgba="0.9 0.95 1 0.3"/>

      <!-- 瓶子17 - 能量饮料瓶 -->
      <geom name="bottle_17_base" type="cylinder" size="0.04 0.03" pos="-0.6 -0.55 3.24" rgba="0.85 0.9 0.95 0.25"/>
      <geom name="bottle_17_body" type="cylinder" size="0.035 0.16" pos="-0.6 -0.55 3.4" rgba="0.8 0.85 0.9 0.2"/>
      <geom name="bottle_17_neck" type="cylinder" size="0.018 0.05" pos="-0.6 -0.55 3.61" rgba="0.85 0.9 0.95 0.25"/>
      <geom name="bottle_17_liquid" type="cylinder" size="0.03 0.14" pos="-0.6 -0.55 3.38" rgba="0.2 0.4 0.9 0.7"/>

      <!-- 瓶子18 - 奶茶瓶 -->
      <geom name="bottle_18_base" type="cylinder" size="0.05 0.03" pos="0.2 -0.55 3.24" rgba="0.85 0.9 0.95 0.25"/>
      <geom name="bottle_18_body" type="cylinder" size="0.045 0.13" pos="0.2 -0.55 3.37" rgba="0.8 0.85 0.9 0.2"/>
      <geom name="bottle_18_neck" type="cylinder" size="0.022 0.06" pos="0.2 -0.55 3.56" rgba="0.85 0.9 0.95 0.25"/>
      <geom name="bottle_18_liquid" type="cylinder" size="0.04 0.11" pos="0.2 -0.55 3.35" rgba="0.8 0.7 0.6 0.75"/>

      <!-- 瓶子19 - 蓝莓汁瓶 -->
      <geom name="bottle_19_base" type="cylinder" size="0.047 0.03" pos="0.9 -0.55 3.24" rgba="0.85 0.9 0.95 0.25"/>
      <geom name="bottle_19_body" type="cylinder" size="0.042 0.14" pos="0.9 -0.55 3.38" rgba="0.8 0.85 0.9 0.2"/>
      <geom name="bottle_19_neck" type="cylinder" size="0.021 0.06" pos="0.9 -0.55 3.58" rgba="0.85 0.9 0.95 0.25"/>
      <geom name="bottle_19_liquid" type="cylinder" size="0.037 0.12" pos="0.9 -0.55 3.36" rgba="0.3 0.2 0.6 0.7"/>

      <!-- 瓶子20 - 冰茶瓶 -->
      <geom name="bottle_20_base" type="cylinder" size="0.05 0.03" pos="1.6 -0.55 3.24" rgba="0.85 0.9 0.95 0.25"/>
      <geom name="bottle_20_body" type="cylinder" size="0.045 0.13" pos="1.6 -0.55 3.37" rgba="0.8 0.85 0.9 0.2"/>
      <geom name="bottle_20_neck" type="cylinder" size="0.022 0.05" pos="1.6 -0.55 3.55" rgba="0.85 0.9 0.95 0.25"/>
      <geom name="bottle_20_liquid" type="cylinder" size="0.04 0.11" pos="1.6 -0.55 3.35" rgba="0.6 0.4 0.2 0.6"/>

      <!-- 吧台内部灯光 -->
      <light mode="fixed" directional="false" diffuse="1 0.9 0.7" specular="0.5 0.4 0.3" pos="0 -0.3 3" dir="0 0 -1" castshadow="false" cutoff="45"/>
    </body>

    <!-- ========== 天花板旋转风扇（动态） ========== -->
    <body name="ceiling_fan" pos="0 0 5.8">
      <!-- 底座 -->
      <geom name="fan_mount" type="cylinder" size="0.15 0.2" pos="0 0 0" material="metal_dark"/>

      <!-- 旋转部分 -->
      <body name="fan_rotor" pos="0 0 -0.3">
        <joint name="fan_rotation" type="hinge" axis="0 0 1" damping="0.1"/>
        <geom name="fan_center" type="cylinder" size="0.12 0.05" pos="0 0 0" material="metal_chrome"/>

        <!-- 扇叶1 -->
        <geom name="fan_blade_1" type="box" size="0.6 0.12 0.02" pos="0 0 0" material="wood_light"/>
        <!-- 扇叶2 -->
        <geom name="fan_blade_2" type="box" size="0.6 0.12 0.02" pos="0 0 0" quat="0.866 0 0 0.5" material="wood_light"/>
        <!-- 扇叶3 -->
        <geom name="fan_blade_3" type="box" size="0.6 0.12 0.02" pos="0 0 0" quat="0.5 0 0 0.866" material="wood_light"/>
      </body>
    </body>

    <!-- ========== 摆钟（动态） ========== -->
    <body name="wall_clock" pos="0 -4.85 4.5">
      <!-- 钟面 -->
      <geom name="clock_face" type="cylinder" size="0.25 0.05" pos="0 0 0" quat="0.707 0.707 0 0" material="wood_light"/>
      <geom name="clock_center" type="cylinder" size="0.22 0.03" pos="0 -0.06 0" quat="0.707 0.707 0 0" rgba="1 1 1 1"/>

      <!-- 钟摆 -->
      <body name="pendulum" pos="0 -0.1 -0.3">
        <joint name="pendulum_swing" type="hinge" axis="1 0 0" range="-25 25" damping="0.05" stiffness="0.5"/>
        <geom name="pendulum_rod" type="cylinder" size="0.01 0.4" pos="0 0 -0.4" material="metal_dark"/>
        <geom name="pendulum_weight" type="sphere" size="0.08" pos="0 0 -0.8" material="metal_chrome"/>
      </body>
    </body>

    <!-- ========== 吊灯（摆动） ========== -->
    <body name="pendant_lamp_1" pos="-2.5 1 5.5">
      <joint name="lamp1_swing" type="ball" damping="0.3"/>
      <!-- 吊线 -->
      <geom name="lamp1_cord" type="cylinder" size="0.01 0.8" pos="0 0 -0.8" material="metal_dark"/>
      <!-- 灯罩 -->
      <geom name="lamp1_shade" type="sphere" size="0.2" pos="0 0 -1.6" rgba="0.9 0.85 0.7 0.8"/>
      <!-- 灯光 -->
      <light mode="fixed" directional="false" diffuse="1 0.85 0.6" specular="0.4 0.3 0.2" pos="0 0 -1.6" dir="0 0 -1" castshadow="false" cutoff="50"/>
    </body>

    <body name="pendant_lamp_2" pos="2.5 1 5.5">
      <joint name="lamp2_swing" type="ball" damping="0.3"/>
      <geom name="lamp2_cord" type="cylinder" size="0.01 0.8" pos="0 0 -0.8" material="metal_dark"/>
      <geom name="lamp2_shade" type="sphere" size="0.2" pos="0 0 -1.6" rgba="0.9 0.85 0.7 0.8"/>
      <light mode="fixed" directional="false" diffuse="1 0.85 0.6" specular="0.4 0.3 0.2" pos="0 0 -1.6" dir="0 0 -1" castshadow="false" cutoff="50"/>
    </body>

    <!-- ========== 桌椅组合 ========== -->

    <!-- 桌子1（左侧） - 圆桌 -->
    <body name="table_1" pos="-3.5 0.5 0">
      <geom name="table1_top" type="cylinder" size="0.5 0.04" pos="0 0 0.8" material="wood_dark"/>
      <geom name="table1_leg" type="cylinder" size="0.05 0.4" pos="0 0 0.4" material="metal_dark"/>
    </body>

    <!-- 桌子1的椅子 -->
    <!-- 椅子1-1（左侧，朝向桌子中心） -->
    <body name="chair_1_1" pos="-4.3 0.5 0.45" quat="0.707 0 0 0.707">
      <geom name="chair1_1_seat" type="box" size="0.25 0.25 0.03" pos="0 0 0" material="wood_light"/>
      <geom name="chair1_1_back" type="box" size="0.25 0.03 0.35" pos="0 -0.22 0.35" material="wood_light"/>
      <geom name="chair1_1_leg1" type="cylinder" size="0.02 0.225" pos="-0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair1_1_leg2" type="cylinder" size="0.02 0.225" pos="0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair1_1_leg3" type="cylinder" size="0.02 0.225" pos="-0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair1_1_leg4" type="cylinder" size="0.02 0.225" pos="0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair1_1_cushion" type="box" size="0.22 0.22 0.04" pos="0 0 0.04" material="fabric_red"/>
    </body>

    <!-- 椅子1-2（右侧，朝向桌子中心） -->
    <body name="chair_1_2" pos="-2.7 0.5 0.45" quat="0.707 0 0 -0.707">
      <geom name="chair1_2_seat" type="box" size="0.25 0.25 0.03" pos="0 0 0" material="wood_light"/>
      <geom name="chair1_2_back" type="box" size="0.25 0.03 0.35" pos="0 -0.22 0.35" material="wood_light"/>
      <geom name="chair1_2_leg1" type="cylinder" size="0.02 0.225" pos="-0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair1_2_leg2" type="cylinder" size="0.02 0.225" pos="0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair1_2_leg3" type="cylinder" size="0.02 0.225" pos="-0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair1_2_leg4" type="cylinder" size="0.02 0.225" pos="0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair1_2_cushion" type="box" size="0.22 0.22 0.04" pos="0 0 0.04" material="fabric_blue"/>
    </body>

    <!-- 桌子2（右侧） - 圆桌 -->
    <body name="table_2" pos="3.5 0.5 0">
      <geom name="table2_top" type="cylinder" size="0.5 0.04" pos="0 0 0.8" material="wood_dark"/>
      <geom name="table2_leg" type="cylinder" size="0.05 0.4" pos="0 0 0.4" material="metal_dark"/>
    </body>

    <!-- 桌子2的椅子 -->
    <!-- 椅子2-1（左侧） -->
    <body name="chair_2_1" pos="2.7 0.5 0.45" quat="0.707 0 0 0.707">
      <geom name="chair2_1_seat" type="box" size="0.25 0.25 0.03" pos="0 0 0" material="wood_light"/>
      <geom name="chair2_1_back" type="box" size="0.25 0.03 0.35" pos="0 -0.22 0.35" material="wood_light"/>
      <geom name="chair2_1_leg1" type="cylinder" size="0.02 0.225" pos="-0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair2_1_leg2" type="cylinder" size="0.02 0.225" pos="0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair2_1_leg3" type="cylinder" size="0.02 0.225" pos="-0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair2_1_leg4" type="cylinder" size="0.02 0.225" pos="0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair2_1_cushion" type="box" size="0.22 0.22 0.04" pos="0 0 0.04" material="fabric_red"/>
    </body>

    <!-- 椅子2-2（右侧） -->
    <body name="chair_2_2" pos="4.3 0.5 0.45" quat="0.707 0 0 -0.707">
      <geom name="chair2_2_seat" type="box" size="0.25 0.25 0.03" pos="0 0 0" material="wood_light"/>
      <geom name="chair2_2_back" type="box" size="0.25 0.03 0.35" pos="0 -0.22 0.35" material="wood_light"/>
      <geom name="chair2_2_leg1" type="cylinder" size="0.02 0.225" pos="-0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair2_2_leg2" type="cylinder" size="0.02 0.225" pos="0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair2_2_leg3" type="cylinder" size="0.02 0.225" pos="-0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair2_2_leg4" type="cylinder" size="0.02 0.225" pos="0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair2_2_cushion" type="box" size="0.22 0.22 0.04" pos="0 0 0.04" material="fabric_blue"/>
    </body>

    <!-- 桌子3（中间） - 方桌 -->
    <body name="table_3" pos="0 2.5 0">
      <geom name="table3_top" type="box" size="0.6 0.6 0.03" pos="0 0 0.8" material="wood_dark"/>
      <geom name="table3_leg1" type="cylinder" size="0.04 0.4" pos="-0.4 -0.4 0.4" material="metal_dark"/>
      <geom name="table3_leg2" type="cylinder" size="0.04 0.4" pos="0.4 -0.4 0.4" material="metal_dark"/>
      <geom name="table3_leg3" type="cylinder" size="0.04 0.4" pos="-0.4 0.4 0.4" material="metal_dark"/>
      <geom name="table3_leg4" type="cylinder" size="0.04 0.4" pos="0.4 0.4 0.4" material="metal_dark"/>
    </body>

    <!-- 桌子3的椅子 - 四面都有 -->
    <!-- 椅子3-1（前侧） -->
    <body name="chair_3_1" pos="0 3.3 0.45">
      <geom name="chair3_1_seat" type="box" size="0.25 0.25 0.03" pos="0 0 0" material="wood_light"/>
      <geom name="chair3_1_back" type="box" size="0.25 0.03 0.35" pos="0 -0.22 0.35" material="wood_light"/>
      <geom name="chair3_1_leg1" type="cylinder" size="0.02 0.225" pos="-0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair3_1_leg2" type="cylinder" size="0.02 0.225" pos="0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair3_1_leg3" type="cylinder" size="0.02 0.225" pos="-0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair3_1_leg4" type="cylinder" size="0.02 0.225" pos="0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair3_1_cushion" type="box" size="0.22 0.22 0.04" pos="0 0 0.04" material="fabric_red"/>
    </body>

    <!-- 椅子3-2（后侧） -->
    <body name="chair_3_2" pos="0 1.7 0.45" quat="1 0 0 1">
      <geom name="chair3_2_seat" type="box" size="0.25 0.25 0.03" pos="0 0 0" material="wood_light"/>
      <geom name="chair3_2_back" type="box" size="0.25 0.03 0.35" pos="0 -0.22 0.35" material="wood_light"/>
      <geom name="chair3_2_leg1" type="cylinder" size="0.02 0.225" pos="-0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair3_2_leg2" type="cylinder" size="0.02 0.225" pos="0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair3_2_leg3" type="cylinder" size="0.02 0.225" pos="-0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair3_2_leg4" type="cylinder" size="0.02 0.225" pos="0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair3_2_cushion" type="box" size="0.22 0.22 0.04" pos="0 0 0.04" material="fabric_blue"/>
    </body>

    <!-- 桌子4（左后） - 圆桌 -->
    <body name="table_4" pos="-3 -1.5 0">
      <geom name="table4_top" type="cylinder" size="0.5 0.04" pos="0 0 0.8" material="wood_dark"/>
      <geom name="table4_leg" type="cylinder" size="0.05 0.4" pos="0 0 0.4" material="metal_dark"/>
    </body>

    <!-- 桌子4的椅子 -->
    <body name="chair_4_1" pos="-3.8 -1.5 0.45" quat="0.707 0 0 0.707">
      <geom name="chair4_1_seat" type="box" size="0.25 0.25 0.03" pos="0 0 0" material="wood_light"/>
      <geom name="chair4_1_back" type="box" size="0.25 0.03 0.35" pos="0 -0.22 0.35" material="wood_light"/>
      <geom name="chair4_1_leg1" type="cylinder" size="0.02 0.225" pos="-0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair4_1_leg2" type="cylinder" size="0.02 0.225" pos="0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair4_1_leg3" type="cylinder" size="0.02 0.225" pos="-0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair4_1_leg4" type="cylinder" size="0.02 0.225" pos="0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair4_1_cushion" type="box" size="0.22 0.22 0.04" pos="0 0 0.04" material="fabric_red"/>
    </body>

    <body name="chair_4_2" pos="-2.2 -1.5 0.45" quat="0.707 0 0 -0.707">
      <geom name="chair4_2_seat" type="box" size="0.25 0.25 0.03" pos="0 0 0" material="wood_light"/>
      <geom name="chair4_2_back" type="box" size="0.25 0.03 0.35" pos="0 -0.22 0.35" material="wood_light"/>
      <geom name="chair4_2_leg1" type="cylinder" size="0.02 0.225" pos="-0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair4_2_leg2" type="cylinder" size="0.02 0.225" pos="0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair4_2_leg3" type="cylinder" size="0.02 0.225" pos="-0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair4_2_leg4" type="cylinder" size="0.02 0.225" pos="0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair4_2_cushion" type="box" size="0.22 0.22 0.04" pos="0 0 0.04" material="fabric_blue"/>
    </body>

    <!-- 桌子5（右后） - 圆桌 -->
    <body name="table_5" pos="3 -1.5 0">
      <geom name="table5_top" type="cylinder" size="0.5 0.04" pos="0 0 0.8" material="wood_dark"/>
      <geom name="table5_leg" type="cylinder" size="0.05 0.4" pos="0 0 0.4" material="metal_dark"/>
    </body>

    <!-- 桌子5的椅子 -->
    <body name="chair_5_1" pos="2.2 -1.5 0.45" quat="0.707 0 0 0.707">
      <geom name="chair5_1_seat" type="box" size="0.25 0.25 0.03" pos="0 0 0" material="wood_light"/>
      <geom name="chair5_1_back" type="box" size="0.25 0.03 0.35" pos="0 -0.22 0.35" material="wood_light"/>
      <geom name="chair5_1_leg1" type="cylinder" size="0.02 0.225" pos="-0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair5_1_leg2" type="cylinder" size="0.02 0.225" pos="0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair5_1_leg3" type="cylinder" size="0.02 0.225" pos="-0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair5_1_leg4" type="cylinder" size="0.02 0.225" pos="0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair5_1_cushion" type="box" size="0.22 0.22 0.04" pos="0 0 0.04" material="fabric_red"/>
    </body>

    <body name="chair_5_2" pos="3.8 -1.5 0.45" quat="0.707 0 0 -0.707">
      <geom name="chair5_2_seat" type="box" size="0.25 0.25 0.03" pos="0 0 0" material="wood_light"/>
      <geom name="chair5_2_back" type="box" size="0.25 0.03 0.35" pos="0 -0.22 0.35" material="wood_light"/>
      <geom name="chair5_2_leg1" type="cylinder" size="0.02 0.225" pos="-0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair5_2_leg2" type="cylinder" size="0.02 0.225" pos="0.18 -0.18 -0.225" material="metal_dark"/>
      <geom name="chair5_2_leg3" type="cylinder" size="0.02 0.225" pos="-0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair5_2_leg4" type="cylinder" size="0.02 0.225" pos="0.18 0.18 -0.225" material="metal_dark"/>
      <geom name="chair5_2_cushion" type="box" size="0.22 0.22 0.04" pos="0 0 0.04" material="fabric_blue"/>
    </body>

    <!-- ========== 装饰植物 ========== -->
    <body name="plant_1" pos="-5.5 -4.5 0">
      <geom name="pot_1" type="cylinder" size="0.2 0.25" pos="0 0 0.25" rgba="0.6 0.4 0.3 1"/>
      <geom name="plant_1_leaves" type="sphere" size="0.35" pos="0 0 0.7" rgba="0.2 0.5 0.3 1"/>
    </body>

    <body name="plant_2" pos="5.5 -4.5 0">
      <geom name="pot_2" type="cylinder" size="0.2 0.25" pos="0 0 0.25" rgba="0.6 0.4 0.3 1"/>
      <geom name="plant_2_leaves" type="sphere" size="0.35" pos="0 0 0.7" rgba="0.2 0.5 0.3 1"/>
    </body>

    <!-- ========== 外部装饰 ========== -->

    <!-- 人行道 -->
    <geom name="sidewalk" type="box" size="10 2 0.05" pos="0 8 0.05" rgba="0.7 0.7 0.7 1"/>

    <!-- 户外座位 -->
    <body name="outdoor_table" pos="0 8.5 0">
      <geom name="outdoor_table_top" type="cylinder" size="0.4 0.03" pos="0 0 0.75" material="wood_dark"/>
      <geom name="outdoor_table_leg" type="cylinder" size="0.04 0.375" pos="0 0 0.375" material="metal_dark"/>
    </body>

    <!-- 户外椅子 -->
    <body name="outdoor_chair" pos="-0.7 8.5 0.4">
      <geom name="outdoor_chair_seat" type="box" size="0.2 0.2 0.02" pos="0 0 0" material="wood_light"/>
      <geom name="outdoor_chair_back" type="box" size="0.2 0.02 0.3" pos="0 -0.18 0.3" material="wood_light"/>
      <geom name="outdoor_chair_leg1" type="cylinder" size="0.015 0.2" pos="-0.15 -0.15 -0.2" material="metal_dark"/>
      <geom name="outdoor_chair_leg2" type="cylinder" size="0.015 0.2" pos="0.15 -0.15 -0.2" material="metal_dark"/>
      <geom name="outdoor_chair_leg3" type="cylinder" size="0.015 0.2" pos="-0.15 0.15 -0.2" material="metal_dark"/>
      <geom name="outdoor_chair_leg4" type="cylinder" size="0.015 0.2" pos="0.15 0.15 -0.2" material="metal_dark"/>
    </body>

    <!-- 路灯 -->
    <body name="street_lamp" pos="8 8 0">
      <geom name="lamp_post" type="cylinder" size="0.08 2.5" pos="0 0 2.5" rgba="0.2 0.2 0.2 1"/>
      <geom name="lamp_head" type="sphere" size="0.25" pos="0 0 5.2" rgba="0.9 0.85 0.7 0.7"/>
      <light mode="fixed" directional="false" diffuse="0.8 0.75 0.6" specular="0.3 0.25 0.2" pos="0 0 5.2" dir="0 0 -1" castshadow="false" cutoff="60"/>
    </body>

    <!-- ========== 相机视角 ========== -->
    <camera name="exterior_view" pos="12 12 6" xyaxes="-0.7 0.7 0 -0.35 -0.35 0.87" mode="fixed"/>
    <camera name="front_door_view" pos="0 10 3" xyaxes="1 0 0 0 0.3 0.95" mode="fixed"/>
    <camera name="inside_view" pos="0 0 2.5" xyaxes="1 0 0 0 0.7 0.7" mode="fixed"/>
    <camera name="bar_view" pos="0 -6 2" xyaxes="1 0 0 0 0.5 0.87" mode="fixed"/>
    <camera name="top_view" pos="0 0 20" xyaxes="1 0 0 0 1 0" mode="fixed"/>
    <camera name="side_view" pos="-12 0 4" xyaxes="0 1 0 -0.3 0 0.95" mode="fixed"/>

  </worldbody>

  <!-- ========== 执行器（控制动态元素） ========== -->
  <actuator>
    <!-- 风扇电机（持续旋转） -->
    <velocity name="fan_motor" joint="fan_rotation" kv="10" gear="1"/>

    <!-- 门控制 -->
    <position name="door_control" joint="door_hinge" kp="50" gear="1"/>

    <!-- 钟摆初始推动 -->
    <motor name="pendulum_motor" joint="pendulum_swing" gear="0.5" ctrlrange="-0.5 0.5"/>
  </actuator>

  <!-- ========== 传感器 ========== -->
  <sensor>
    <!-- 风扇转速传感器 -->
    <jointvel name="fan_speed" joint="fan_rotation"/>

    <!-- 门位置传感器 -->
    <jointpos name="door_position" joint="door_hinge"/>

    <!-- 钟摆角度传感器 -->
    <jointpos name="pendulum_angle" joint="pendulum_swing"/>
  </sensor>

  <!-- ========== 关键帧（预设场景状态） ========== -->
  <keyframe>
    <!-- 初始状态 -->
    <key name="initial" ctrl="5 0 0"/>

    <!-- 风扇快速旋转 -->
    <key name="fan_fast" ctrl="15 0 0"/>

    <!-- 门打开 -->
    <key name="door_open" ctrl="5 80 0"/>

    <!-- 钟摆摆动 -->
    <key name="pendulum_active" ctrl="5 0 0.3"/>
  </keyframe>

</mujoco>
